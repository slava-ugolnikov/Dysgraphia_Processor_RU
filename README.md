# CV Dysgraphia. OCR + Rule-based разметка дисграфических ошибок

Система для **распознавания рукописного русского текста** и **детектирования дисграфических ошибок** с помощью набора лингвистических правил (без ML).
Стек включает OCR-модель, обработку текста, лингвистические модули и генерацию итогового **Excel** с разметкой ошибок.

---

## Возможности проекта

### 1. OCR рукописного текста

* OCR через OpenCV + Tesseract

### 2. Лингвистическая обработка

Используются:

* `pymorphy2`
* `russtress`, `rurebus` для ударений
* `pyphen` для деления на слоги
* `rusyphon` для фонетики

### 3. Правила выявления ошибок (rule-based)

Поддерживаются типы:

* **Пропуски** букв/слогов/слов
* **Перестановки**
* **Персеверации**
* **Антиципации**
* **Вставки букв**
* **Смешения**:

  * звонкие/глухие
  * свистящие/шипящие
  * аффрикаты
  * о/у, ё/ю
  * графически/оптически сходные буквы
* **Ошибки мягкости** (ь, йотированные гласные)
* **Ошибки со звуком Й**
* **Пропуски разделительных знаков**
* **Зеркальность букв**

### 4. Экспорт разметки в Excel

Формат итоговой таблицы:

| ID | Предложение | Задуманное слово | Написанное слово | Тип ошибки | Пояснение |
| -- | ----------- | ---------------- | ---------------- | ---------- | --------- |

---

## Установка

```bash
git clone https://github.com/slava-ugolnikov/Dysgraphia_Processor_RU.git
cd Dysgraphia_Processor_RU
poetry install
```

---

## Линтеры и типизация

### Ruff (линтер + авто-фиксы):

```bash
poetry run ruff check .
poetry run ruff check . --fix
```

### Ruff форматирование:

```bash
poetry run ruff format .
```
---

## Pre-commit

Установить:

```bash
poetry run pre-commit install
```
